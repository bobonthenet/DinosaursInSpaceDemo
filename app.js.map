{"version":3,"sources":["app/initialize.js","app/scenes/DiSScene.js","app/scenes/boot.js","app/scenes/default.js","app/scenes/menu.js","app/sprites/BadRex.js","app/sprites/Bullet.js","app/sprites/Enemy.js","app/sprites/Player.js","app/sprites/Tanky.js","app/sprites/Troodon.js"],"names":["window","game","Phaser","Game","width","height","type","AUTO","title","url","version","banner","background","loader","path","maxParallelDownloads","physics","default","matter","enableSleep","scene","DiSScene","load","image","tilemapTiledJSON","spritesheet","frameWidth","frameHeight","map","make","tilemap","key","tileset","addTilesetImage","collisionLayer","createDynamicLayer","setCollisionByProperty","collides","world","convertTilemapLayer","setBounds","widthInPixels","heightInPixels","enemyGroup","add","group","getObjectLayer","objects","forEach","enemy","enemyObject","name","x","y","console","error","tileProperties","gid","player","anims","create","frames","generateFrameNumbers","start","end","frameRate","repeat","play","cameras","main","particles","emitter","createEmitter","setSpeed","setBlendMode","BlendModes","ADD","on","event","bodyA","bodyB","gameObject","constructor","active","death","keys","up","input","keyboard","addKey","Input","Keyboard","KeyCodes","UP","left","LEFT","right","RIGHT","down","DOWN","space","SPACE","update","children","entries","sprite","scrollX","setPosition","time","delayedCall","Scene","Boot","progressBar","progressBarRectangle","onLoadProgress","onLoadComplete","createProgressBar","Geom","Rectangle","CenterOn","graphics","log","destroy","progress","rect","color","failed","size","clear","fillStyle","fillRect","Default","score","data","sky","alpha","speed","scale","blendMode","logo","setVelocity","setBounce","setCollideWorldBounds","startFollow","once","quit","FONT","Menu","highScore","text","fill","fontFamily","fontSize","setOrigin","setShadow","BadRex","config","lastFired","setIgnoreGravity","bullets","bullet","i","activated","now","get","fire","alive","setVelocityY","setVelocityX","Bullet","existing","setActive","setVisible","velocityX","velocityY","offsetX","offsetY","remove","GameObjects","Sprite","Enemy","beenSeen","direction","setFixedRotation","setScale","setFrictionAir","setMass","kill","sys","canvas","explosion","Player","angle","setAngle","isDown","thrustBack","thrust","thrustLeft","thrustRight","whoKilledMe","Tanky","Troodon"],"mappings":"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","file":"public/app.js","sourcesContent":["import BootScene from 'scenes/boot';\nimport DefaultScene from 'scenes/default';\nimport MenuScene from 'scenes/menu';\nimport DiSScene from 'scenes/DiSScene';\n\nwindow.game = new Phaser.Game({\n\n  // See <https://github.com/photonstorm/phaser/blob/master/src/boot/Config.js>\n\n  width: 800,\n  height: 600,\n  // zoom: 1,\n  // resolution: 1,\n  type: Phaser.AUTO,\n  // parent: null,\n  // canvas: null,\n  // canvasStyle: null,\n  // seed: null,\n  title: '☕️ Brunch with Phaser', // 'My Phaser 3 Game'\n  url: 'https://github.com/samme/brunch-phaser-es6',\n  version: '0.0.1',\n  // input: {\n  //   keyboard: true,\n  //   mouse: true,\n  //   touch: true,\n  //   gamepad: false\n  // },\n  // disableContextMenu: false,\n  // banner: false\n  banner: {\n    // hidePhaser: false,\n    // text: 'white',\n    background: ['#e54661', '#ffa644', '#998a2f', '#2c594f', '#002d40']\n  },\n  // fps: {\n  //   min: 10,\n  //   target: 60,\n  //   forceSetTimeout: false,\n  // },\n  // pixelArt: false,\n  // transparent: false,\n  // clearBeforeRender: true,\n  // backgroundColor: 0x000000, // black\n  loader: {\n    // baseURL: '',\n    path: 'assets/',\n    maxParallelDownloads: 6,\n    // crossOrigin: 'anonymous',\n    // timeout: 0\n  },\n  physics: {\n    default: 'matter',\n    matter: {\n      enableSleep: true\n    }\n  },\n  scene: [\n    BootScene,\n    DefaultScene,\n    MenuScene,\n    DiSScene\n  ],\n\n});\n","import Player from '../sprites/Player';\nimport Troodon from '../sprites/Troodon';\nimport BadRex from '../sprites/BadRex';\nimport Tanky from '../sprites/Tanky';\n\nexport default class DiSScene extends Phaser.Scene {\n  constructor() {\n    super('DiSScene');\n  }\n\n  preload() {\n    this.load.image('tiles', 'tiles_spritesheet.png');\n    this.load.tilemapTiledJSON('map', 'level.json');\n    this.load.image('spark', 'blue.png');\n    this.load.spritesheet('rex', 'rex.png', {frameWidth: 528, frameHeight: 294});\n    this.load.image('troodon', 'troodon.png');\n    this.load.image('tanky', 'tanky.png');\n    this.load.image('badrex', 'badrex.png');\n    this.load.image('bullet', 'bullet.png');\n  }\n\n  create() {\n    this.map = this.make.tilemap({ key: 'map'});\n    this.tileset = this.map.addTilesetImage('tiles_spritesheet', 'tiles');\n    this.collisionLayer = this.map.createDynamicLayer(0, this.tileset, 0, 0);\n\n    this.collisionLayer.setCollisionByProperty({ collides: true });\n\n    this.matter.world.convertTilemapLayer(this.collisionLayer);\n    this.matter.world.setBounds(this.map.widthInPixels, this.map.heightInPixels);\n\n    this.enemyGroup = this.add.group();\n\n    this.map.getObjectLayer('enemies').objects.forEach(\n      (enemy) => {\n        let enemyObject;\n        switch (enemy.name) {\n        case 'troodon':\n          enemyObject = new Troodon({\n            scene: this,\n            key: 'troodon',\n            x: enemy.x,\n            y: enemy.y\n          });\n          break;\n        case 'badrex':\n          enemyObject = new BadRex({\n            scene: this,\n            key: 'badrex',\n            x: enemy.x,\n            y: enemy.y\n          });\n          break;\n        case 'tanky':\n          enemyObject = new Tanky({\n            scene: this,\n            key: 'tanky',\n            x: enemy.x,\n            y: enemy.y\n          });\n          break;\n        default:\n          console.error('Unknown:', this.tileset.tileProperties[enemy.gid - 1]);\n          break;\n        }\n        this.enemyGroup.add(enemyObject);\n      }\n    );\n\n    this.player = new Player({\n      scene: this,\n      key: 'rex',\n      x: 300,\n      y: 300\n    });\n\n    this.anims.create({\n      key: 'rexFly',\n      frames: this.anims.generateFrameNumbers('rex', {start: 0, end: 2}),\n      frameRate: 5,\n      repeat: -1\n    });\n\n    this.player.anims.play('rexFly', true);\n\n    this.cameras.main.setBounds();\n    \n    //TODO: I think I'm going to need a group of emitters for multiple explosions. Might be a bug with that though.\n    const particles = this.add.particles('spark');\n    this.emitter = particles.createEmitter();\n    this.emitter.setSpeed(200);\n    this.emitter.setBlendMode(Phaser.BlendModes.ADD);\n    this.emitter.on = false;\n\n    //TODO: I think this strategy needs to be completely rethought.\n    this.matter.world.on('collisionstart', function(event, bodyA, bodyB) {\n      if(bodyA.gameObject.constructor.name !== 'MatterTileBody' && bodyB.gameObject.constructor.name !== 'MatterTileBody')\n      {\n        if(bodyA.gameObject.active) {\n          bodyA.gameObject.death(bodyB.gameObject);\n        }\n        if(bodyB.gameObject.active) {\n          bodyB.gameObject.death(bodyA.gameObject);\n        }\n      }\n    }, this);\n\n    this.keys = {\n      up: this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.UP),\n      left: this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.LEFT),\n      right: this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.RIGHT),\n      down: this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.DOWN),\n      space: this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE)\n    };\n\n  }\n\n  update() {\n    this.player.update();\n    this.enemyGroup.children.entries.forEach(\n      (sprite) => {sprite.update();}\n    );\n    this.cameras.main.scrollX += 2;\n  }\n\n  explosion(x, y) {\n    this.emitter.setPosition(x, y);\n    this.emitter.on = true;\n    this.time.delayedCall(1500, function(){\n      this.emitter.on = false;\n      \n    }, [], this);\n  }\n}\n\n","export default class Boot extends Phaser.Scene {\n\n  constructor () {\n    super('boot');\n    this.progressBar = null;\n    this.progressBarRectangle = null;\n  }\n\n  preload () {\n    this.load.image('sky', 'space3.png');\n    this.load.image('logo', 'phaser3-logo.png');\n    this.load.image('red', 'red.png');\n    this.load.on('progress', this.onLoadProgress, this);\n    this.load.on('complete', this.onLoadComplete, this);\n    this.createProgressBar();\n  }\n\n  create () {\n    this.scene.start('menu');\n  }\n\n  // extend:\n\n  createProgressBar () {\n    var main = this.cameras.main;\n    this.progressBarRectangle = new Phaser.Geom.Rectangle(0, 0, 0.5 * main.width, 50);\n    Phaser.Geom.Rectangle.CenterOn(this.progressBarRectangle, 0.5 * main.width, 0.5 * main.height);\n    this.progressBar = this.add.graphics();\n  }\n\n  onLoadComplete (loader) {\n    console.log('onLoadComplete', loader);\n    this.progressBar.destroy();\n  }\n\n  onLoadProgress (progress) {\n    var rect = this.progressBarRectangle;\n    var color = (this.load.failed.size > 0) ? (0xff2200) : (0xffffff);\n    this.progressBar\n      .clear()\n      .fillStyle(0x222222)\n      .fillRect(rect.x, rect.y, rect.width, rect.height)\n      .fillStyle(color)\n      .fillRect(rect.x, rect.y, progress * rect.width, rect.height);\n    console.log('progress', progress);\n  }\n\n}\n","export default class Default extends Phaser.Scene {\n\n  constructor () {\n    super('default');\n    this.score = null;\n  }\n\n  init (data) {\n    console.log('init', this.scene.key, data, this);\n    this.score = 0;\n  }\n\n  create () {\n    var sky = this.add.image(400, 300, 'sky');\n    sky.alpha = 0.5;\n    const particles = this.add.particles('red');\n    const emitter = particles.createEmitter({\n      speed: 100,\n      scale: { start: 1, end: 0 },\n      blendMode: 'ADD'\n    });\n    const logo = this.physics.add.image(400, 100, 'logo');\n    logo.setVelocity(100, 200);\n    logo.setBounce(1, 1);\n    logo.setCollideWorldBounds(true);\n    emitter.startFollow(logo);\n    this.input.keyboard.once('keydown_Q', this.quit, this);\n  }\n\n  update () {\n    this.score += 1;\n  }\n\n  // extend:\n\n  quit () {\n    this.scene.start('menu', { score: this.score });\n  }\n\n}\n","const FONT = 'Futura,system-ui,sans-serif';\n\nexport default class Menu extends Phaser.Scene {\n\n  constructor () {\n    super('menu');\n    this.highScore = null;\n  }\n\n  init (data) {\n    console.log('init', this.scene.key, data, this);\n    this.highScore = data.score || 0;\n  }\n\n  create () {\n    const sky = this.add.image(400, 300, 'sky');\n    sky.alpha = 0.25;\n    this.add.text(400, 300, 'START', {\n      fill: 'white',\n      fontFamily: FONT,\n      fontSize: 48\n    })\n      .setOrigin(0.5)\n      .setShadow(0, 1, '#62F6FF', 10);\n    this.add.text(400, 450, 'High Score: ' + this.highScore, {\n      fill: '#FED141',\n      fontFamily: FONT,\n      fontSize: 24\n    })\n      .setOrigin(0.5)\n      .setShadow(0, 1, 'black', 5);\n    this.input.on('pointerup', this.start, this);\n  }\n\n  // extend:\n\n  start () {\n    this.scene.start('DiSScene');\n  }\n\n}\n","import Enemy from './Enemy';\nimport Bullet from './Bullet';\n\nexport default class BadRex extends Enemy {\n  constructor (config) {\n    super(config);\n    this.lastFired = 0;\n    this.setIgnoreGravity(true);\n    this.bullets = this.scene.add.group();\n    let bullet;\n    for(let i=0;i<10;i++) {\n      bullet = new Bullet({\n        scene: this.scene,\n        key: 'bullet',\n        x: 0,\n        y: 0\n      });\n      this.bullets.add(bullet);\n    }\n  }\n\n  update () {\n    if (!this.activated()){return;}\n    let time = this.scene.time.now;\n\n    this.bullets.children.entries.forEach(\n      (bullet) => {bullet.update();}\n    );\n\n    if (time > this.lastFired) {\n      let bullet = this.bullets.get();\n\n      if (bullet)\n      {\n        bullet.fire(this.x, this.y, -25, 0, -90, 0);\n        this.lastFired = time + 2000;\n      }\n    }\n\n    //rudimentary AI\n    if(this.scene.player.alive) {\n      if(this.scene.player.y > this.y) {\n        this.setVelocityY(1);\n      } else {\n        this.setVelocityY(-1);\n      }\n    }\n    \n\n    this.setVelocityX(-2);\n  }\n}","export default class Bullet extends Phaser.GameObjects.Sprite {\n  constructor(config) {\n    super(config.scene, config.x, config.y, config.key);\n    config.scene.add.existing(this);\n    this.setActive(false);\n    this.setVisible(false);\n  }\n\n  fire(x, y, velocityX, velocityY, offsetX, offsetY) {\n    this.scene.matter.add.gameObject(this);\n    this.setIgnoreGravity(true);\n    this.setPosition(x + offsetX, y + offsetY);\n    this.setVelocityX(velocityX);\n    this.setVelocityY(velocityY);\n    this.setActive(true);\n    this.setVisible(true);\n  }\n\n  update() {\n    if (this.active) {\n      if (this.x > this.scene.cameras.main.scrollX + this.scene.cameras.main.width)\n      {\n        this.death();\n      }\n    }  \n  }\n\n  death() {\n    this.scene.matter.world.remove(this);\n    this.setPosition(0, 0);\n    this.setVelocityX(0);\n    this.setActive(false);\n    this.setVisible(false);\n  }\n}","/*\nGeneric enemy class that extends Phaser sprites.\nClasses for enemy types extend this class.\n*/\n\nexport default class Enemy extends Phaser.GameObjects.Sprite {\n  constructor(config) {\n    super(config.scene, config.x, config.y, config.key);    \n    config.scene.matter.add.gameObject(this);\n    config.scene.add.existing(this);\n    this.enemy = true;\n    this.alive = true;\n    // start still and wait until needed\n    this.setVelocity(0, 0);\n    this.beenSeen = false;\n    // know about Player\n    this.player = this.scene.player; \n    // Base horizontal velocity / direction.\n    this.direction = -50; \n    this.setFixedRotation(true);\n    this.setScale(.25);\n    this.setFrictionAir(0.05);\n    this.setMass(30);\n  }\n\n  activated(){\n    // Method to check if an enemy is activated, the enemy will stay put\n    // until activated so that starting positions is correct\n    if(!this.alive){\n      if(this.y>240){\n        this.kill();\n      }\n      return false;\n    }\n    if(!this.beenSeen){\n      // check if it's being seen now and if so, activate it\n      if(this.x<this.scene.cameras.main.scrollX+this.scene.sys.game.canvas.width+80){\n        this.beenSeen = true;\n        return true;\n      }\n      return false;\n    }\n    return true;\n  }\n\n  death() {\n    this.scene.matter.world.remove(this);\n    this.scene.explosion(this.x, this.y);\n    this.destroy();\n  }\n}\n","import Bullet from '../sprites/Bullet';\n\nexport default class Player extends Phaser.GameObjects.Sprite {\n  constructor(config) {\n    super(config.scene, config.x, config.y, config.key);\n    config.scene.matter.add.gameObject(this);\n    config.scene.add.existing(this);\n    this.setIgnoreGravity(true);\n    this.setFixedRotation(true);\n    this.setScale(.25);\n    this.setFrictionAir(0.05);\n    this.setMass(30);\n    this.lastFired = 0;\n\n    this.bullets = this.scene.add.group();\n    let bullet;\n    for(let i=0;i<20;i++) {\n      bullet = new Bullet({\n        scene: this.scene,\n        key: 'bullet',\n        x: 0,\n        y: 0\n      });\n      this.bullets.add(bullet);\n    }\n  }\n\n  update() {\n    if (!this.active) {return;}\n    this.bullets.children.entries.forEach(\n      (bullet) => {bullet.update();}\n    );\n\n    //I feel like there must be a better way to do this.\n    if(this.angle !== 0){\n      this.setAngle(0);\n    }\n    \n    let time = this.scene.time.now;\n    let keys = this.scene.keys;\n    let input = {\n      left: keys.left.isDown,\n      right: keys.right.isDown,\n      down: keys.down.isDown,\n      up: keys.up.isDown,\n      space: keys.space.isDown\n    };\n\n    if (this.active) {\n      if (input.left) {\n        this.thrustBack(0.1);\n      } else if (input.right) {\n        this.thrust(0.1);\n      }\n      if (input.up) {\n        this.thrustLeft(0.1);\n      } else if (input.down) {\n        this.thrustRight(0.1);\n      }\n\n      if (input.space && time > this.lastFired) {\n        let bullet = this.bullets.get();\n        if (bullet)\n        {\n          bullet.fire(this.x, this.y, 25, 0, 90, 0);\n          this.lastFired = time + 500;\n        }\n      }\n    }\n  }\n\n  death(whoKilledMe) {\n    console.log(whoKilledMe);\n    this.scene.matter.world.remove(this);\n    this.scene.explosion(this.x, this.y);\n    \n    this.scene.time.delayedCall(3000, function(){\n      this.scene.start('menu');  \n    }, [], this.scene);\n    this.destroy();\n  }\n}","import Enemy from './Enemy';\nimport Bullet from './Bullet';\nexport default class Tanky extends Enemy {\n  constructor (config) {\n    super(config);\n    this.bullets = this.scene.add.group();\n    this.lastFired = 0;\n    let bullet;\n    for(let i=0;i<10;i++) {\n      bullet = new Bullet({\n        scene: this.scene,\n        key: 'bullet',\n        x: 0,\n        y: 0\n      });\n      this.bullets.add(bullet);\n    }\n  }\n\n  update () {\n    if (!this.activated()){return;}\n    let time = this.scene.time.now;\n\n    this.bullets.children.entries.forEach(\n      (bullet) => {bullet.update();}\n    );\n\n    if (time > this.lastFired) {\n      let bullet = this.bullets.get();\n\n      if (bullet)\n      {\n        bullet.fire(this.x, this.y, -10, -5, -60, -70);\n        bullet.setIgnoreGravity(false);\n        this.lastFired = time + 2000;\n      }\n    }\n    this.setVelocityX(-1);\n  }\n}","import Enemy from './Enemy';\n\nexport default class Troodon extends Enemy {\n  constructor (config) {\n    super(config);\n    this.setIgnoreGravity(true);\n  }\n\n  update () {\n    if (!this.activated()){return;}\n    this.setVelocityX(-2);\n  }\n}"]}